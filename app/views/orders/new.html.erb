<h1>注文情報入力</h1>

<%= form_with(model: @order, local: true) do |form| %>

  <!-- 支払方法 -->
  <div class="how_to_pay">
    <h3>支払方法</h3>
    <label><%= form.radio_button :how_to_pay, :true %>クレジットカード</label><br>
    <label><%= form.radio_button :how_to_pay, :false %>銀行振込</label><br>
  </div>

  <!----------- お届け先 -------------->
  <div class="send_to_address">
    <h3>お届け先</h3>
    <!-- 自身の住所 -->
    <div class="add_mine">
      <input id="radio1" type="radio" name="send" value="">
      <%= form.label :send_to_address, "ご自身の住所", style: "display: inline-block" %><br>
      <% form.text_field :send_to_address, id: "add_mine" %>
      <%= @customer.post_code %>
      <%= @customer.address %><br>
      <%= @customer.family_name + @customer.first_name %>
    </div>

    <!-- 登録済住所 -->
    <div class="add_select">
      <input id="radio2" type="radio" name="send" value="">
      <%= form.label :send_to_address, "登録済住所から選択", style: "display: inline-block" %><br>
      <%= form.collection_select :send_to_address, Address.where(params[:customer_id]), :id, :address, {}, {id: 'add_select'} %>
    </div>

    <!-- 新しい住所 -->
    <div class="add_new">
      <input id="radio3" type="radio" name="send" value="">
      <%= form.label :address, "新しいお届け先", style: "display: inline-block" %><br>
      <%= form_with(model: @address, local: true) do |form| %>
      <%= form.label :郵便番号ハイフンなし %>
      <%= form.text_field :post_code %>
      <br>
      <%= form.label :住所 %>
      <%= form.text_field :address %>
      <br>
      <%= form.label :宛名 %>
      <%= form.text_field :addressee %>
      <br>
      <% end %>
    </div>
  </div>
  <!---------- お届け先ここまで ------------>

  <!-- 確定ボタン -->
  <%= link_to '注文確定画面に進む', orders_path, method: :post %>
<% end %>


<!-- ラジオボタンでフォームの有効・無効を切り替え -->
<!-- <script type="text/javascript">
  //デフォルトではどのフォームも無効
  var target1 = document.getElementById("add_mine");
  target1.disabled = true;

  var target2 = document.getElementById("add_select");
  target2.disabled = true;

  var target3 = document.getElementById("add_new");
  target3.disabled = true;

  // クリックでラジオボタン１（自分の住所）の無効を解除
  var trigger1 = document.getElementById("radio1")
  trigger1.addEventListener("click",
    function(){
      if(trigger1.checked){
        target1.disabled = false;
      }
    }, false);

  // クリックでラジオボタン２（登録済み住所）の無効を解除
  var trigger2 = document.getElementById("radio1")
  trigger2.addEventListener("click",
    function(){
      if(trigger2.checked){
        target2.disabled = false;
      }
    }, false);

  // クリックでラジオボタン３（新しい住所）の無効を解除
  var trigger3 = document.getElementById("radio1")
  trigger3.addEventListener("click",
    function(){
      if(trigger3.checked){
        target3.disabled = false;
      }
    }, false);

  </script> -->
