<h1>注文情報入力</h1>

<%= form_with(model: @order, local: true, url: {action: 'confirm'}) do |form| %>

  <!-- 支払方法 -->
  <div class="how_to_pay">
    <h3>支払方法</h3>
    <label><%= form.radio_button :how_to_pay, :true %>クレジットカード</label><br>
    <label><%= form.radio_button :how_to_pay, :false %>銀行振込</label><br>
  </div>

  <!----------- お届け先 -------------->
  <div class="send_to_address">

    <h3>お届け先</h3>
    <!-- 自身の住所 -->
    <div class="add_mine">
      <%= form.radio_button :add, 1, checked: true, checked: "checked" %>
      <%= form.label :send_to_address, "ご自身の住所", style: "display: inline-block" %><br>
      <%= @customer.post_code %>
      <%= @customer.address %>
      <%= @customer.family_name + @customer.first_name %>
    </div>

    <!-- 登録済住所 -->
    <div class="add_select">
      <%= form.radio_button :add, 2 %>
      <%= form.label :send_to_address, "登録済住所から選択", style: "display: inline-block" %><br>
      <%= form.collection_select :send_to_address, @customer.addresses, :id, :select_address %>
    </div>

    <!-- 新しい住所 -->
    <div class="add_new">
      <%= form.radio_button :add, 3 %>
      <%= form.fields_for :new_add do |na| %>
        <%= na.label :address, "新しいお届け先", style: "display: inline-block" %>
        <br>
        <%= na.label :郵便番号ハイフンなし %>
        <%= na.text_field :post_code %>
        <br>
        <%= na.label :住所 %>
        <%= na.text_field :address %>
        <br>
        <%= na.label :宛名 %>
        <%= na.text_field :addressee %>
      <% end %>
    </div>
  </div>
  <!---------- お届け先ここまで ------------>

  <!-- 確定ボタン -->
  <%= form.submit "注文確認画面へ" %>
<% end %>
